{"version":3,"file":"commonHelpers2.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["const form = document.querySelector(\"form\")\nconst gallery = document.querySelector('.gallery')\n\nform.addEventListener('submit', handlerForm)\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nfunction getPicturesByQuery(query) {\n  const KEY = '44791676-0ec883c6e453828f8c76360bc';\n\n  return fetch(\n    `https://pixabay.com/api/?key=${KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then((res) => {\n    console.log(res);\n\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n   \n\n\nfunction handlerForm (evt){\n    evt.preventDefault()\n    gallery.innerHTML = \"\";\n   const inputValue = form.elements.search.value;\ngetPicturesByQuery(inputValue)\n.then(data => renderImage(data.hits))\n.catch((err)=>console.log(err))\n}\n\nfunction renderImage(images) {\n    if (images.length === 0) {\n        iziToast.show({\n            message: 'Sorry, there are no images matching your search query. Please try again!'\n          });\n        gallery.innerHTML = \"\";\n      }\n      else {\n    const listItems = images\n    .map(({largeImageURL, webformatURL, tags, likes, views, comments, downloads}) => `<li class=\"list\">\n  <a href=\"${largeImageURL}\">\n    <img src='${webformatURL}' alt='${tags}'/>\n    <div class=\"item-wrap\">\n    <h2 class=\"item-text\">Like<p>${likes}</p></h2>\n    <h2 class=\"item-text\">Views<p>${views}</p></h2>\n    <h2 class=\"item-text\">Comments<p>${comments}</p></h2>\n    <h2 class=\"item-text\">Downloads<p>${downloads}</p></h2>\n  </div>\n  </li>`)\n    .join(\"\");\n\n  gallery.innerHTML = listItems;\n  lightbox = new SimpleLightbox('.gallery a', {docClose: true,\n    close: true,\n  });\n  lightbox.refresh();\n  }}\n  "],"names":["form","gallery","handlerForm","getPicturesByQuery","query","res","evt","inputValue","data","renderImage","err","images","iziToast","listItems","largeImageURL","webformatURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"+IAAA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,CAAW,EAQ3C,SAASC,EAAmBC,EAAO,CAGjC,OAAO,MACL,qEAAyCA,CAAK,0DAClD,EAAI,KAAMC,GAAQ,CAGd,GAFA,QAAQ,IAAIA,CAAG,EAEX,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CAIA,SAASH,EAAaI,EAAI,CACtBA,EAAI,eAAgB,EACpBL,EAAQ,UAAY,GACrB,MAAMM,EAAaP,EAAK,SAAS,OAAO,MAC3CG,EAAmBI,CAAU,EAC5B,KAAKC,GAAQC,EAAYD,EAAK,IAAI,CAAC,EACnC,MAAOE,GAAM,QAAQ,IAAIA,CAAG,CAAC,CAC9B,CAEA,SAASD,EAAYE,EAAQ,CACzB,GAAIA,EAAO,SAAW,EAClBC,EAAS,KAAK,CACV,QAAS,0EACrB,CAAW,EACHX,EAAQ,UAAY,OAEjB,CACP,MAAMY,EAAYF,EACjB,IAAI,CAAC,CAAC,cAAAG,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA,aACxEN,CAAa;AAAA,gBACVC,CAAY,UAAUC,CAAI;AAAA;AAAA,mCAEPC,CAAK;AAAA,oCACJC,CAAK;AAAA,uCACFC,CAAQ;AAAA,wCACPC,CAAS;AAAA;AAAA,QAEzC,EACH,KAAK,EAAE,EAEVnB,EAAQ,UAAYY,EACpB,SAAW,IAAIQ,EAAe,aAAc,CAAC,SAAU,GACrD,MAAO,EACX,CAAG,EACD,SAAS,QAAO,CACf,CAAA"}